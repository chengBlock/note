- ### 运算符连接表达式中的各个操作数，其作用是用来指明对操作数所进行的运算。运用运算符可以更加灵活地使用表中的数据，常见的运算符类型有算术运算符、比较运算符、逻辑运算符和位运算符。
---
- #### 1.算术运算符：算术运算符用于各类数值运算，包括加（+）、减（-）、乘（*）、除（/）、求余（或称模运算，%）。
    
    ![算数运算符][1]
    
    select price+100, price-100, price/100, price%100, price*10 from goods;
    - 在数学运算时，除数为0的除法是没有意义的，因此除法运算中的除数不能为0，如果被0除，则返回结果为NULL。

---
- #### 2.比较运算符：比较运算符用于比较运算，包括大于（>）、小于（<）、等于（=）、大于等于（>=）、小于等于（<=）、不等于（!=），以及IN、BETWEEN AND、IS NULL、GREATEST、LEAST、LIKE、REGEXP等。
    - 一个比较运算符的结果总是1、0或者是NULL。比较运算符经常在SELECT的查询条件子句中使用，用来查询满足指定条件的记录。
    
    ![比较运算符][2]
    - 1.等于运算符（=）
        - 等号（=）用来判断数字、字符串和表达式是否相等：如果相等，返回值为1；否则返回值为0。
        - 由结果可以看到，在进行判断时，2=2和‘2’=2的返回值相同，都为1。因为在进行判断时，MySQL自动进行了转换，把字符‘2’转换成了数字2；‘b’=‘b’为相同的字符比较，因此返回值为1；表达式1+3和表达式2+2的结果都为4，因此结果相等，返回值为1；由于‘=’不能用于空值NULL的判断，因此返回值为NULL。
        - 数值比较时有如下规则：
            - （1）若有一个或两个参数为NULL，则比较运算的结果为NULL。
            - （2）若同一个比较运算中的两个参数都是字符串，则按照字符串进行比较。
            - （3）若两个参数均为整数，则按照整数进行比较。
            - （4）若用字符串和数字进行相等判断，则MySQL可以自动将字符串转换为数字。
        
    - 2.安全等于运算符（<=>）
        - 这个操作符和=操作符执行相同的比较操作，不过<=>可以用来判断NULL值。在两个操作数均为NULL时，其返回值为1，而不为NULL；当一个操作数为NULL时，其返回值为0，而不为NULL。
    - 3.不等于运算符（<>或者!=）
        - ‘<>’或者‘!=’用于判断数字、字符串、表达式不相等的判断：如果不相等，返回值为1；否则返回值为0。这两个运算符不能用于判断空值NULL。
    - 4.小于等于运算符（<=）
        - <=’用来判断左边的操作数是否小于等于右边的操作数：如果小于等于，返回值为1；否则返回值为0。‘<=’不能用于判断空值NULL。
    - 5.小于运算符（<）
        - ‘<’运算符用来判断左边的操作数是否小于右边的操作数：如果小于，返回值为1；否则返回值为0。‘<’不能用于判断空值NULL。
    - 6.大于等于运算符（>=）
        - ‘>=’运算符用来判断左边的操作数是否大于等于右边的操作数：如果大于等于，返回值为1；否则返回值为0。‘>=’不能用于判断空值NULL。
    - 7.大于运算符（>）
        - ‘>’运算符用来判断左边的操作数是否大于右边的操作数：如果大于，返回值为1；否则返回值为0。‘>’不能用于判断空值NULL。
        - 
    - 8.IS NULL(ISNULL)和IS NOT NULL运算符
        - IS NULL和ISNULL检验一个值是否为NULL：如果为NULL，返回值为1；否则返回值为0。ISNOT NULL检验一个值是否为非NULL：如果是非NULL，返回值为1；否则返回值为0。
        - 由结果可以看到，IS NULL和ISNULL的作用相同，只是格式不同。ISNULL和IS NOT NULL的返回值正好相反。
    - 9.BETWEEN AND运算符
        - 语法格式为：expr BETWEEN min AND max。假如expr大于等于min且小于等于max，则BETWEEN的返回值为1，否则返回值为0。
        - select 4 between 2 and 5;
        - 由结果可以看到，4在端点值区间内或者等于其中一个端点值时，BETWEEN AND表达式返回值为1；12并不在指定区间内，因此返回值为0；对于字符串类型的比较，按字母表中字母顺序进行比较，‘x’不在指定的字母区间内，因此返回值为0，而‘b’位于指定字母区间内，因此返回值为1。
    - 10.LEAST运算符
        - 语法格式为：LEAST(值1，值2，...，值n)。其中，“值n”表示参数列表中有n个值。在有两个或多个参数的情况下，返回最小值。假如任意一个自变量为NULL，则LEAST()的返回值为NULL。
        - 由结果可以看到，当参数是整数或者浮点数时，LEAST将返回其中最小的值；当参数为字符串时，返回字母表中顺序最靠前的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。
    - 11.GREATEST (value1,value2,...)
        - select greatest(1, 2, 3);  返回最大值3 
        - 语法格式为：GREATEST(值1，值2，...，值n)。其中，n表示参数列表中有n个值。当有两个或多个参数时，返回值为最大值。假如任意一个自变量为NULL，则GREATEST()的返回值为NULL。
        - 由结果可以看到，当参数中是整数或者浮点数时，GREATEST将返回其中最大的值；当参数为字符串时，返回字母表中顺序最靠后的字符；当比较值列表中有NULL时，不能判断大小，返回值为NULL。
        - 
    - 12.IN、NOT IN运算符
        -  select 2 IN (1, 3, 5, 2, 'ths');
        - IN运算符用来判断操作数是否为IN列表中的其中一个值：如果是，返回值为1；否则返回值为0。NOT IN运算符用来判断表达式是否为IN列表中的其中一个值：如果不是，返回值为1；否则返回值为0。
        - 在左侧表达式为NULL的情况下，或是表中找不到匹配项并且表中一个表达式为NULL的情况下，IN的返回值均为NULL。
    - 13.LIKE
        - LIKE运算符用来匹配字符串，语法格式为：expr LIKE匹配条件。如果expr满足匹配条件，则返回值为1（TRUE）；如果不匹配，则返回值为0（FALSE）。expr或匹配条件中任何一个为NULL，则结果为NULL。LIKE运算符在进行匹配时，可以使用下面的两种通配符：
        - ‘%’，匹配任何数目的字符，甚至包括零字符。
        - ‘_’，只能匹配一个字符。
        - 由结果可以看到，指定匹配字符串为“stud”。“stud”表示直接匹配“stud”字符串，满足匹配条件，返回1；“stu_”表示匹配以stu开头的长度为4个字符的字符串，“stud”正好是4个字符，满足匹配条件，因此匹配成功，返回1；“%d”表示匹配以字母“d”结尾的字符串，“stud”满足匹配条件，匹配成功，返回1；“t _ _ _”表示匹配以‘t’开头的长度为4个字符的字符串，“stud”不满足匹配条件，因此返回0；当字符‘s’与NULL匹配时，结果为NULL。
         
    - 14.REGEXP
        - REGEXP运算符用来匹配字符串，语法格式为：expr REGEXP匹配条件。如果expr满足匹配条件，返回1；如果不满足，则返回0。若expr或匹配条件任意一个为NULL，则结果为NULL。REGEXP运算符在进行匹配时，常用的有下面几种通配符：
        - ‘^’匹配以该字符后面的字符开头的字符串。 
        - ‘$’匹配以该字符后面的字符结尾的字符串。
        - ‘.’匹配任何一个单字符。
        - “[...]”匹配在方括号内的任何字符。例如，“[abc]”匹配“a”“b”或“c”。为了命名字符的范围，使用一个‘-’。“[a-z]”匹配任何字母，而“[0-9]”匹配任何数字。
        - ‘\*’匹配零个或多个在它前面的字符。例如，“x*”匹配任何数量的‘x’字符，“[0-9]\*”匹配任何数量的数字，而“*”匹配任何数量的任何字符。
        
        - 由结果可以看到，指定匹配字符串为“ssky”。“^s”表示匹配任何以字母‘s’开头的字符串，因此满足匹配条件，返回1；“y$”表示任何以字母“y”结尾的字符串，因此满足匹配条件，返回1；“.sky”匹配任何以“sky”结尾、字符长度为4的字符串，满足匹配条件，返回1；“[ab]”匹配任何包含字母‘a’或者‘b’的字符串，指定字符串中既没有字母‘a’也没有字母‘b’，因此不满足匹配条件，返回0。
        - 提示：正则表达式是一个可以进行复杂查询的强大工具。相对于LIKE字符串匹配，它可以使用更多的通配符类型，查询结果更加灵活。读者可以参考相关的书籍或资料，详细学习正则表达式的写法，在这里就不再详细介绍了。在后面的章节中，将会介绍如何使用正则表达式查询表中的记录。
        
    
---
- #### 3.逻辑运算符：逻辑运算符的求值所得结果均为1（TRUE）、0（FALSE），这类运算符有逻辑非（NOT或者!）、逻辑与（AND或者&&）、逻辑或（OR或者||）、逻辑异或（XOR）。
    - 在SQL中，所有逻辑运算符的求值所得结果均为TRUE、FALSE或NULL。在MySQL中，它们体现为1（TRUE）、0（FALSE）和NULL。逻辑运算符大多数都与不同的数据库SQL通用。
    
    ![逻辑运算符][3]
    
    - 1.NOT或者!
        - 逻辑非运算符NOT或者！表示当操作数为0时，所得值为1；当操作数为非零值时，所得值为0；当操作数为NULL时，所得的返回值为NULL。
        - 由结果可以看到，前4列“NOT”和“!”的返回值都相同。为什么最后1列会出现不同的值呢？这是因为“NOT”与“!”的优先级不同。“NOT”的优先级低于“+”，因此“NOT 1+1”相当于“NOT(1+1)”，先计算“1+1”，然后再进行NOT运算，因为操作数不为0，因此NOT 1+1的结果是0；相反，“!”的优先级要高于“+”运算，因此“! 1+1”相当于“(!1)+1”，先计算“!1”，结果为0，再加1，最后结果为1。
        
    - 2.AND或者&&
        - 逻辑与运算符AND或者&&表示当所有操作数均为非零值并且不为NULL时，计算所得结果为1；当一个或多个操作数为0时，所得结果为0；其余情况返回值为NULL。
        - “AND”和“&&”的作用相同。“1 AND -1”中没有0或者NULL，因此结果为1；“1 AND 0”中有操作数0，因此结果为0；“1 AND NULL”中虽然有NULL，但是没有操作数0，返回结果为NULL。
    - 3.OR或者||
        - 逻辑或运算符OR或者||表示当两个操作数均为非NULL值且任意一个操作数为非零值时，结果为1，否则结果为0；当有一个操作数为NULL，且另一个操作数为非零值时，则结果为1，否则结果为NULL；当两个操作数均为NULL时，则所得结果为NULL。
        - “OR”和“||”的作用相同。“1 OR -1 OR 0”中有0，但同时包含有非0的值1和-1，返回结果为1；“1 OR 2”中没有操作数0，返回结果为1；“1 OR NULL”中虽然有NULL，但是有操作数1，返回结果为1；“0 OR NULL”中没有非0值，并且有NULL，返回结果为NULL；“NULL OR NULL”中只有NULL，返回结果为NULL. 
        
    - 4.XOR
        - 逻辑异或运算符XOR表示当任意一个操作数为NULL时，返回值为NULL；对于非NULL的操作数，如果两个操作数都是非0值或者都是0值，则返回结果为0；如果一个为0值、另一个为非0值，返回结果为1。
        - select 1 XOR 1, 0 XOR 0, 1 XOR 0, 1 XOR NULL, 1 XOR 1 XOR 1;
        - 由结果可以看到，在“1 XOR 1”和“0 XOR 0”中，运算符两边的操作数都为非零值或者都是零值，因此返回0；在“1 XOR 0”中，两边的操作数一个为0值、一个为非0值，返回结果为1；在“1 XOR NULL”中，有一个操作数为NULL，返回结果为NULL；在“1 XOR 1 XOR 1”中，有多个操作数，运算符相同，因此运算顺序从左到右依次计算，“1 XOR 1”的结果为0，再与1进行异或运算，最终结果为1。
        
    

---
- #### 4.位运算符：位运算符参与运算的操作数按二进制位进行运算，包括位与（&）、位或（|）、位非（~）、位异或（^）、左移（<<）、右移（>>）6种。
    - 位运算符是在二进制数上进行计算的运算符。位运算符会先将操作数变成二进制数，然后进行位运算，最后将计算结果从二进制变回十进制数。MySQL中提供的位运算符有按位或（|）、按位与（&）、按位异或（^）、按位左移（<<）、按位右移（>>）和按位取反（~）.
    
    ![位运算符][4]
    
    - 1.位或运算符（|）
        - 位或运算的实质是将参与运算的几个数据按照对应的二进制数逐位进行逻辑或运算。对应的二进制位有一个或两个为1则该位的运算结果为1，否则为0。
        
            select 10 | 15, 9 | 4 | 2;
            - 10的二进制数值为1010，15的二进制数值为1111，按位或运算之后，结果为1111，即整数15；9的二进制数值为1001，4的二进制数值为0100，2的二进制数值为0010，按位或运算之后，结果为1111，即整数15。其结果为一个64位无符号整数。
          
    - 2.位与运算符（&）
        - 位与运算的实质是将参与运算的几个操作数按照对应的二进制数逐位进行逻辑与运算。对应的二进制位都为1则该位的运算结果为1，否则为0。
        
            select 10 & 15, 9 & 4 & 2;
            - 10的二进制数值为1010，15的二进制数值为1111，按位与运算之后，结果为1010，即整数10；9的二进制数值为1001，4的二进制数值为0100，2的二进制数值为0010，按位与运算之后，结果为0000，即整数0。其结果为一个64位无符号整数。
    
    - 3.位异或运算符（^）
        - 位异或运算的实质是将参与运算的两个数据按照对应的二进制数逐位进行逻辑异或运算。对应位的二进制数不同时，对应位的结果才为1。如果两个对应位数都为0或者都为1，则对应位的结果为0。
        
            select 10 ^ 15, 1 ^ 0, 1 ^ 1;
            - 10的二进制数值为1010，15的二进制数值为1111，按位异或运算之后，结果为0101，即整数5；1的二进制数值为0001，0的二进制数值为0000，按位异或运算之后，结果为0001；1和1本身二进制位完全相同，因此结果为0。
    - 4.位左移运算符（<<）
        - 位左移运算符<<使指定的二进制值的所有位都左移指定的位数。左移指定位数之后，左边高位的数值将被移出并丢弃，右边低位空出的位置用0补齐。语法格式为：expr<<n。其中，n指定值expr要移位的位数。
        
            select 1<<2, 4<<2;
            - 1的二进制值为0000 0001，左移两位之后变成0000 0100，即十进制整数4；十进制4左移两位之后变成0001 0000，即变成十进制的16。
            
    - 5.位右移运算符（>>）
        - 位右移运算符>>使指定的二进制值的所有位都右移指定的位数。右移指定位数之后，右边低位的数值将被移出并丢弃，左边高位空出的位置用0补齐。语法格式为：expr>>n。其中，n指定值expr要移位的位数。
        
            select 1>>2, 16>>2;
            - 1的二进制值为0000 0001，右移1位之后变成0000 0000，即十进制整数0；16的二进制值为0001 0000右移两位之后变成0000 0100，即变成十进制的4。
    
    - 6.位取反运算符（~）      
        - 位取反运算的实质是将参与运算的数据按照对应的二进制数逐位反转，即1取反后变为0、0取反后变为1。
        
            select 5 & ~1;
            - 在逻辑运算5&~1中，由于位取反运算符‘~’的级别高于位与运算符‘&’，因此先对1进行取反操作，取反之后，除了最低位为0外其他位都为1，即1110，然后与十进制数值5进行与运算，结果为0100，即整数4。
            - 提示：MySQL经过位运算之后的数值是一个64位的无符号整数，1的二进制数值表示为最右边位为1、其他位均为0，取反操作之后，除了最低位为0外，其他位均变为1。
            - 可以使用BIN()函数查看1取反之后的结果: select BIN(~1)
- #### 5.运算符的优先级
    - 运算符的优先级决定了不同的运算符在表达式中计算的先后顺序。表5.14列出了MySQL中的各类运算符及其优先级。
    - 可以看到，不同运算符的优先级是不同的。一般情况下，级别高的运算符先进行计算，如果级别相同，MySQL按表达式的顺序从左到右依次计算。当然，在无法确定优先级的情况下，可以使用圆括号（）来改变优先级，并且这样会使计算过程更加清晰。
    
    ![运算符优先级][5]
    
    
---
[1]:img/suanshu.png
[2]:img/bijiaoyunsuanfu.png
[3]:img/luojiyunsuanfu.png
[4]:img/weiyunsuanfu.png
[5]:img/youxianji.png